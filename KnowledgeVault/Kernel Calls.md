# Kernel Calls

In order for user software to perform a privileged operation, such as mapping or unmapping physical memory pages in the virtual memory system or accessing a raw network socket, the user program must make a request to [[The Kernel]]. The kernel responds by performing the operation in a safe manner on behalf of the user program. Such a request is called a <mark style="background: #D2B3FFA6;">kernel call</mark> or <mark style="background: #D2B3FFA6;">system call</mark>.

On most systems, calling into the kernel is accomplished via [[Software Interrupts|software interrupt]]. In the case of an interrupt-triggered system call, the user program places any input arguments in a specific place (either in memory or in registers) and then issues a “software interrupt” instruction with an integer argument that specifies which kernel operation is being requested. This causes the CPU to be put into a mode with elevated privileges, staves the state of the calling program, and then causes the appropriate kernel interrupt service routine to be called. Presuming that the kernel allows the request to proceed, it performs the requested operation (in privileged mode) and then control is returned to the caller (after first restoring its execution state). This switch from a user mode program into the kernel is an example of context switching. See [[Context Switching]] for more on context switching.

On most modern operating systems, the user program doesn’t execute a software interrupt or system call instruction manually, for example via inline assembly code. That would be messy and error-prone. Instead, a user program calls a kernel API function, which arranges the arguments and trips the software interrupt. This is why system calls appear to be regular function calls from the point of view of the user program.